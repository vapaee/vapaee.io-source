-- Video Vapaée DEX v3.0 --
https://cdn.pixabay.com/photo/2015/10/23/07/28/banner-1002455_960_720.jpg
http://icons.iconarchive.com/icons/custom-icon-design/pretty-office-11/96/coin-us-dollar-icon.png
http://icons.iconarchive.com/icons/custom-icon-design/pretty-office-11/256/coin-us-dollar-icon.png




(click)="dropdown.drop('category-'+info.id)"


Icons:
https://iconmonstr.com/

-- TODO: VERSION v3.0.0 --
- Smart Contract
  - cada evento habría que replicarlo si o si para los usuarios participantes (aparte del dueño del token)

+ Tokens page
  + el botón de new Token no aparece si no estás logueado

- Edit Token Page
  + en el formulario de registro tiene que haber un checkbox para el campo "tradeable" y que esté encendido por defecto
  + sacar el botón de "Edit Token" (el tercero)
  + si el usuario coloca un token que ya está registrado:
    + mostrar el ícono y el título del token
    + mostrar cartel que dice que ese token ya está registrado
    + Si es el owner, mostrar botón Edit -> lo redirecciona a la página del token en modo "edition"
    + Si no es el owner, mostrar un cartel rojo que diga que no puede editarlo

- Token Page
  - edition mode: si el user logueado es el creador del token, entonces dejar visible el botón "edit token"
  - si se toka el botón "edit token" aparecen los campos para editar y botón confirmar
  - tiene que haber un checkbox para el campo "tradeable"
  - abajo un botón que diga "New Data Entry"
    - al apretarlo aparece un cuadro entry-editor:
      - category (combobox)
      - text
      - link
      - botón "confirm"
      - botón "delete" (si es que tiene un id, o sea, ya existe el entry)
  - si estamos en edition mode:
    - cada entry va a tener un par de botones: edit y remove
    - las cajas de markets desaparecen y en su lugar aparece la lista de todos los eventos.
      - si está subscripto aparece un tock verde y el nombre del destinatario del evento
      - botones edit y subscribe/unsubscribe




- Wish list
  - que el desglose del balance incluya los tokesn del REX y los que están depositados en el DEX.
  + el loading podría incluir un svg del logo vapaee
  - que la token page incluya una sección de actions (transfer, claim, burn, issue)
  - el selector de markets de la página trade debería permitir markets basados en todas las currencies (incluyendo TELOSD)
  - Upgrade to Angular 8: https://medium.com/mr-frontend-community/upgrade-to-angular-7-beta-within-10-minutes-c14fc380edd





-- TODO ---
- C++ Smart Contract
  - podemos hacer el nuevo slug

- FutbolTokens
  - pasarle varias opciones a Agustín para decidir la estrategia monetaria
  - hacer cartas y un álbum con Defensor

- Cards & Tokens
  - arreglar el prototipo para que encare el desplegar los videos bien




CARBON:
https://buy.carbon.money/


-- TODO mañana --
- hacer que el dex.service.ts los incluya en la lista de currencies basándose en este parámetro (dejando a TLOS como primero)
- hacer que el contrato sólo permita la creación de nuevos mercados sólo si alguna de las dos tokens es una currency
- Hacer que la página de Token muestre algo coherente si no tiene datos

telosmain push action vapaeetokens addtoken '["yanggangcoin","YANG",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["YANG", "Yang Gang Coin", "https://www.yang2020.com/", "Together, We Can Build a New Kind of Economy, One That Puts People First.", "/assets/uploads/yang-banner.jpg", "/assets/logos/yang-coin.png", "/assets/logos/yang-coin-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["YANG", 0, "add", "twitter", "Official Twitter Account", "https://twitter.com/andrewyang"]' -p vapaeetokens@active







--- TODO ---
- check TELOSD: telosmain get currency stats stablecarbon TELOSD
telosmain push action vapaeetokens addtoken '["yanggangcoin","YANG",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["YANG", "Yang Gang Coin", "https://www.yang2020.com/", "Together, We Can Build a New Kind of Economy, One That Puts People First.", "/assets/uploads/yang-banner.jpg", "/assets/logos/yang-coin.png", "/assets/logos/yang-coin-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["YANG", 0, "add", "twitter", "Official Twitter Account", "https://twitter.com/andrewyang"]' -p vapaeetokens@active


telosmain push action vapaeetokens addtoken '["eosio.token","TLOS",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOS", "Telos", "https://telosfoundation.io", "", "", "/assets/logos/telos.png", "/assets/logos/telos-lg.png",true]' -p vapaeetokens@active
echo "-- register VIITA --" 
telosmain push action vapaeetokens addtoken '["viitasphere1","VIITA",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VIITA", "Viitasphere", "https://viitasphere.com", "", "", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png",false]' -p vapaeetokens@active
echo "-- register VIICT --" 
telosmain push action vapaeetokens addtoken '["viitasphere1","VIICT",0,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VIICT", "Viitasphere", "https://viitasphere.com", "", "", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png",false]' -p vapaeetokens@active
echo "-- register QBE --" 
telosmain push action vapaeetokens addtoken '["qubicletoken","QBE",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["QBE", "Qubicles", "https://fenero.io/qubicles", "", "", "/assets/logos/qbe.png", "/assets/logos/qbe-lg.png",true]' -p vapaeetokens@active
echo "-- register ACORN --" 
telosmain push action vapaeetokens addtoken '["acornaccount","ACORN",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ACORN", "ACORN", "http://acorns.fun", "", "", "/assets/logos/acorn.svg", "/assets/logos/acorn-lg.png",true]' -p vapaeetokens@active
echo "-- register OLIVE --" 
telosmain push action vapaeetokens addtoken '["oliveaccount","OLIVE",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["OLIVE", "OLIVE", "http://democratic.money/olive", "", "", "/assets/logos/olive.png", "/assets/logos/olive-lg.png",true]' -p vapaeetokens@active
echo "-- register HEART --" 
telosmain push action vapaeetokens addtoken '["revelation21","HEART",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["HEART", "HEART", "https://steemit.com/@steemchurch", "", "", "/assets/logos/beautitude.png", "/assets/logos/beautitude-lg.png",true]' -p vapaeetokens@active
echo "-- register EDNA --" 
telosmain push action vapaeetokens addtoken '["ednazztokens","EDNA",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["EDNA", "EDNA", "https://github.com/EDNA-LIFE", "", "", "/assets/logos/edna.png", "/assets/logos/edna-lg.png",true]' -p vapaeetokens@active
echo "-- register TEACH --" 
telosmain push action vapaeetokens addtoken '["teachology14","TEACH",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TEACH", "Teachology", "http://teachology.io", "", "", "/assets/logos/teach.svg", "/assets/logos/teach-lg.png",true]' -p vapaeetokens@active
echo "-- register ROBO --" 
telosmain push action vapaeetokens addtoken '["proxibotstkn","ROBO",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ROBO", "Proxibots", "https://proxibots.io", "", "", "/assets/logos/proxibots.png", "/assets/logos/proxibots-lg.png",true]' -p vapaeetokens@active
echo "-- register TELOSD --" 
telosmain push action vapaeetokens addtoken '["stablecarbon","TELOSD",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TELOSD", "Carbon", "https://www.carbon.money", "", "", "/assets/logos/carbon.svg", "/assets/logos/carbon.svg",true]' -p vapaeetokens@active
echo "-- register EZAR --"
telosmain push action vapaeetokens addtoken '["stablecoin.z","EZAR",2,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["EZAR", "South African Rand", "https://t.me/ezartoken", "", "", "/assets/logos/ezar.png", "/assets/logos/ezar-lg.png",true]' -p vapaeetokens@active
echo "-- register TELOSDAC --" 
telosmain push action vapaeetokens addtoken '["telosdacdrop","TLOSDAC",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOSDAC", "TelosDAC", "https://telosdac.io/", "", "", "/assets/logos/telosdac.png", "/assets/logos/telosdac-lg.png", true]' -p vapaeetokens@active


echo "-- creating CNT token --" 
telosmain push action vapaeetokens addtoken '["vapaeetokens","CNT",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["CNT", "Cards & Tokens", "http://cardsandtokens.com", "A platform where you can create themed albums and trading cards to collect and play making money in the process.", "assets/img/cards-and-tokens-1200x400.jpeg", "/assets/logos/cnt.svg", "/assets/logos/cnt-lg.svg",true]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["CNT", 0, "add", "youtube", "Promo video", "https://youtu.be/YSVJgKsSobA"]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["CNT", 0, "add", "twitter", "Membership cards", "https://twitter.com/TokensCards/status/1109668817175748608"]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["CNT", 0, "add", "youtube", "Demo video", "https://www.youtube.com/watch?v=jhL1KyifGEs&list=PLIv5p7BTy5wxqwqs0fGyjtOahoO3YWX0x&index=1"]' -p vapaeetokens@active
telosmain push action vapaeetokens settokendata '["CNT", 0, "add", "twitter", "The CNT token airdrop", "https://twitter.com/TokensCards/status/1105088865994452993"]' -p vapaeetokens@active


cleos --url https://telos.eos.barcelona get table vapaeetokens CNT tokensdata
cleos --url https://api.eos.miami get table vapaeetokens CNT tokensdata

cleos --url https://telos.eos.barcelona get info
cleos --url https://api.eos.miami get info







- contract:
  - cambiar el appname por title
  - hacer una lista de entradas de links info de la moneda:
  {
      id:             // 
      symbol
      date timestamp: // fecha del último update
      name category;  // es una palabra corta que identifica de que tipo de link 
      string title;   // texto a mostrar
      string link;    // link al lugar
  }

- UI: Token Page
  - si tiene background hay que ahcer un header tipo facebook donde el title no se superponga con el backgroun
  - si no tiene, solo se muestra el icon del token y el title en grande. El baground es oscuro
  - al costado (izq) lista de markets donde participa
  - al centro (der) lista de links 





// Instalar las bibliotecas de vapaee
npm i --save ngx-cookie-service@2.1.0 rxjs-compat@^6.3.3 bignumber.js@8.0.2 scatterjs-core@2.3.8 scatterjs-plugin-eosjs@1.3.10 eosjs@16.0.9
npm i --save @vapaee/feedback @vapaee/scatter @vapaee/dex
npm i -D @babel/runtime



-- publicar libraies --
  npm adduser
  
  
  cd /var/www/vapaee.io-source && ng build @vapaee/feedback --prod
  cd dist/vapaee/feedback && npm publish --access public
  
  cd /var/www/vapaee.io-source && ng build @vapaee/scatter --prod
  cd dist/vapaee/scatter && npm publish --access public

  cd /var/www/vapaee.io-source && ng build @vapaee/dex --prod
  cd dist/vapaee/dex && npm publish --access public





Checkear esto después:
http://arthere0.com/  <<< MUY BUEN EFECTO DE PARTÍCULAS
https://t.me/HelloTelos/80516


-- ISSUES --
- si te da un error en el wallet al tratar de hacer deposit, el error nunca se va. Incluso al cambiar de page




-- TODO (code) --
- cuando termina de realizarse un depósito o un withdraw habría que cerrar automáticamente el miniformulario
- Hay que traducir el nuevo modal

-- UPDATING SCATTER LIBS --
npm i -S scatterjs-core scatterjs-plugin-eosjs2 eosjs@20.0.0-beta3
https://github.com/GetScatter/scatter-js














Lynx doesn't seem to be a valid ScatterJS plugin.

ng build && cd /var/www/vapaee.io && git add -A && git commit -m 'save' && git push && amazon_server_console

import ScatterJS from 'scatterjs-core';
import ScatterEOS from 'scatterjs-plugin-eosjs2'
import ScatterLynx from 'scatterjs-plugin-lynx'

    "@angular/animations": "~7.2.0",
    "@angular/common": "~7.2.0",
    "@angular/compiler": "~7.2.0",
    "@angular/core": "~7.2.0",
    "@angular/forms": "~7.2.0",
    "@angular/platform-browser": "~7.2.0",
    "@angular/platform-browser-dynamic": "~7.2.0",
    "@angular/router": "~7.2.0",
    "core-js": "^2.5.4",
    "rxjs": "~6.3.3",
    "scatterjs-core": "^2.7.18",
    "scatterjs-plugin-eosjs2": "^1.5.0",
    "scatterjs-plugin-lynx": "^1.6.6",
    "tslib": "^1.9.0",
    "zone.js": "~0.8.26"


// primer intento ------------
    "@angular/animations": "~7.2.0",
    "@angular/common": "~7.2.0",
    "@angular/compiler": "~7.2.0",
    "@angular/core": "~7.2.0",
    "@angular/forms": "~7.2.0",
    "@angular/platform-browser": "~7.2.0",
    "@angular/platform-browser-dynamic": "~7.2.0",
    "@angular/router": "~7.2.0",
    "@scatterjs/core": "^2.7.25",
    "@scatterjs/eosjs2": "^1.5.7",
    "core-js": "^2.5.4",
    "eosjs": "^20.0.0",
    "rxjs": "~6.3.3",
    "scatterjs-plugin-lynx": "^1.6.6",
    "tslib": "^1.9.0",
    "zone.js": "~0.8.26"




telosmain push action vapaeetokens hotfix '[1, "cnt.tlos", "0.1000 CNT"]' -p vapaeetokens@active


-- HOTFIX --
cd /var/www/vapaee.io-source/contracts/vapaeetokens
vapaeetokens; telosmain set contract vapaeetokens $PWD -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[0, "viterbotelos", "0.1000 TLOS"]' -p vapaeetokens@active


-- TODO (not coding) --
- publicación hablando de los Fakes que me quieren embaucar.
- actualizar mi linkedin y follow telos --> https://www.linkedin.com/company/telos-blockchain-network/

- confirmar los tokens:
telosmain push action vapaeetokens updatetoken '["QBE", "Qubicles", "https://fenero.io/qubicles", "/assets/logos/qbe.png", "/assets/logos/qbe-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOSDAC", "TelosDAC", "https://telosdac.io/", "/assets/logos/telosdac.png", "/assets/logos/telosdac-lg.png",true]' -p vapaeetokens@active
  confirmados:
telosmain push action vapaeetokens updatetoken '["EDNA", "EDNA", "https://github.com/EDNA-LIFE", "/assets/logos/edna.png", "/assets/logos/edna-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TEACH", "Teachology", "http://teachology.io", "/assets/logos/teach.svg", "/assets/logos/teach-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ROBO", "Proxibots", "https://proxibots.io", "/assets/logos/proxibots.png", "/assets/logos/proxibots-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOS", "Telos", "https://telosfoundation.io", "/assets/logos/telos.png", "/assets/logos/telos-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["CNT", "Cards & Tokens", "http://cardsandtokens.com", "/assets/logos/cnt.svg", "/assets/logos/cnt-lg.svg",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ACORN", "Acorn", "https://www.acorns.fun", "/assets/logos/acorn.svg", "/assets/logos/acorn-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["HEART", "Beatitude", "https://steemit.com/@steemchurch", "/assets/logos/beautitude.png", "/assets/logos/beautitude-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["OLIVE", "Olive", "http://democratic.money/olive", "/assets/logos/olive.png", "/assets/logos/olive-lg.png",true]' -p vapaeetokens@active







------- HEART ------
cleos push action revelation21 open '["kate", "4,HEART", "kate"]' -p kate@active
cleos push action revelation21 open '["user1.jc", "4,HEART", "user1.jc"]' -p user1.jc@active

----------------------- VERSIONES DE VAPAÉE DEX --------------------



- Premium
  
      
- Deluxe
  - Página del Token X (title, description, link, contacts, transaction history, top N holders)
  - Specific Token interaction: transfer, open, claim.
  - Crear / Registrar / Actualizar tu propio Token (estandar)
  - Timezone: que el usuario elija su timezone para mostrar mejor los horarios de las transacciones en el historial
  - Invertir currency / commodity
  - Events: Contract propagate events to participants and the apps that owns the tokens involved
    - cuando se concreta una orden que pusiste te debería llegar un mensaje (diferido, cosa de que no pueda detener la ejecusión).
  - Skins

- Golden
  - Auctioning
  - Vapaee Token / Pasive Income
  - More skins
  - Proper source code delivery / Documentation
  - Help / video tutorials

- Next (posibles nombres: Telos)
  - iframe. Poder pegar en tu página un sneepet (html iframe) con parámetros para cargar una página del sitio
    - token: mostrar datos del token
    - trade: permitor ver la gráfica y poder comprar o vender
    - account: mostrar la billetera del usuario
  - cualquiera puede subir una skin (ejemplo una empresa X)
  - exportar widgets y componentes para que otros puedan importar en su web o app, total o parcialmente los serivios de Vapaée DEX
    - cotizaciones: widget que muestra la cotización de una lista de monedas en una moneda en particular
    - convertir: el widget convierte el token X a Y generando érdenes de compra al precio actual.
    - gráfica: historial de una moneda en particular.



- bugs conocidos:
  - al comprar más de una fila te calcula mal el costo total porque debería tener encuenta los diferentes niveles de precios
  - hay que desuscribir al usuario que ya no tiene depósitos y no se hace: depusers
  - los valores cuando son muy pequeños y tienen 8 dígitos de decimal aparecen expresados en potencias de e-10. No debe pasar!!
  - si el usuario no tiene el network Telos mainnet seteado no le salta el pop de login con scatter no hay mensaje de error-
  - el en el form de orders aparece la cantidad de TLOS que tenés. Si le hacés click debería intentar comprar todo lo posible con esa plata pero no hace nada.
  - Si hay un deal en la trade page, hay que reordenar los tokens por vol-24h porque puede pasar que la última transacción te cambie el orden.
  - cuando no estás logueado se ven los paneles de resources en /exchange/account cuando estás en baja resolución y no deberían mostrarse
  - el loading del botón de vender (en trade page) no para de girar nunca a pesar de que la transacción se haga con éxito.
  - en el order editor cuando tenés el precio en cero no te deja apretar el botón de vender pero no te avisa que está mal
  - Estando logueado y mirando un market donde tengo órdenes, si estas son vendidas, desaparecen de la lista de órdenes pero la lista peronal de mis órdenes sigue sin actualizarse.
  - página trade. si obtenés un error y cambiás de token, el mensaje de error persiste. Habría que limpiar de errores si se cambia el token/market.
  - Si tengo una orden de compra, estoy mirando ese mercado y alguien me vende tokens, mi saldo no se actualiza hasta que recarlo la pantalla.
  - Si estoy logueado pero le hago click al nombre de otro usuario y me redirije a account page:
    - tengo habilitados los botones de deposit y withdraw (y no deberían)
    - en trade page aparece la wallet del usuario consultado y no la propia
  - En el wallet si tenés un balance demasiado pequeño se muestra con notacion científica: 3.6e-70000 TLOS y encima se calcula mal el USD: 2.1274 USD


- lista de erores que devuelve la blockchain:
ERROR: { "code": 500, "message": "Internal Service Error", "error": { "code": 3050003, "name": "eosio_assert_message_exception", "what": "eosio_assert_message assertion failure", "details": [ { "message": "assertion failure with message: comparison of assets with different symbols is not allowed", "file": "wasm_interface.cpp", "line_number": 964, "method": "eosio_assert" } ] } }




-- descripción --
    - página del Token X:
      - título, web link, contract name
      - precio, (col, max, min) 24h
      - current supply
      - telegram gourps (project & contacts)
      - history completo (paginado)
      - top 100 token holders list (ordenado por quien tiene más)
{
  "app":"Vapaée - Telos DEX"
  "with appkey":"appkey:1611268022122023418913243788219221212391992462042413559152218171"
}
--------------------------
{
  "app": "Vapaée - Telos DEX",@vapaee/dex
  "with appkey": "4c7dbd7d49439e146032e2aa7f791e79bc90c9a39033d42d91bb012fa20327c7"
}
{
"app":"Vapaée - Telos DEX"
"with appkey":"0d45e1d01de69817d724763de2a63a17a53038420cb7d6eacd547fea96f1fc1c"
}
{
  "app": "Vapaée - Telos DEX",
  "with key": "ac3b9f0f651eb9d7c906555ee2ac1a581600a29c9358a4173609dba87446fdd5",
  "using network": [
    {
      "blockchain": "eos",
      "chainId": "4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"
    }
  ]
}

// { "voter" : "viterbotelos", "ballot_id" : 16, "direction" : 1 }
telosmain push action eosio.trail castvote '["viterbotelos",16,1]' -p viterbotelos
telosmain get table eosio.trail viterbotelos votereceipts -l 40



Leer esto luego:
https://cryptodaily.co.uk/2019/04/liberland-initiates-decentralized-autonomous-government-with-eosio


telosmain push action vapaeetokens updatetoken '["VIITA", "Viitasphere", "https://viitasphere.com", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png",false]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VIICT", "Viitasphere", "https://viitasphere.com", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png",false]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["BOX", "Board Game Box", "http://bgbox.com", "/assets/logos/box.png", "/assets/logos/box-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VPE", "Vapaée", "https://vapaee.io", "/assets/logos/vapaee.png", "/assets/logos/vapaee-lg.png",true]' -p vapaeetokens@active

-- ocultar tokens verdaderos --
telosmain push action vapaeetokens updatetoken '["TLOS", "Telos", "https://telosfoundation.io", "/assets/logos/telos.png", "/assets/logos/telos-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["QBE", "Qubicles", "https://fenero.io/qubicles", "/assets/logos/qbe.png", "/assets/logos/qbe-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ACORN", "Acorn", "http://acorns.fun", "/assets/logos/acorn.svg", "/assets/logos/acorn-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["EDNA", "EDNA", "https://github.com/EDNA-LIFE", "/assets/logos/edna.png", "/assets/logos/edna-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TEACH", "Teachology", "http://teachology.io", "/assets/logos/teach.svg", "/assets/logos/teach-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ROBO", "Proxibots", "https://proxibots.io", "/assets/logos/proxibots.png", "/assets/logos/proxibots-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["CNT", "Cards & Tokens", "http://cardsandtokens.com", "/assets/logos/cnt.svg", "/assets/logos/cnt-lg.svg",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["OLIVE", "Olive", "http://democratic.money/olive", "/assets/logos/olive.png", "/assets/logos/olive-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["HEART", "Beatitude", "https://steemit.com/@steemchurch", "/assets/logos/beautitude.png", "/assets/logos/beautitude-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOSDAC", "TelosDAC", "https://telosdac.io/", "/assets/logos/telosdac.png", "/assets/logos/telosdac-lg.png",true]' -p vapaeetokens@active


telosmain push action vapaeetokens addtoken '["revelation21","HEART",4,"revelation21"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["HEART", "Beatitude", "https://steemit.com/@steemchurch", "/assets/logos/beautitude.png", "/assets/logos/beautitude-lg.png",false]' -p vapaeetokens@active

telosmain push action vapaeetokens addtoken '["telosdacdrop","TLOSDAC",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOSDAC", "TelosDAC", "https://telosdac.io/", "/assets/logos/telosdac.png", "/assets/logos/telosdac-lg.png", false]' -p vapaeetokens@active

-- creo los tokens falsos --
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 AAA"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 BBB"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 CCC"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 DDD"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 EEE"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","100000000.0000 FFF"]' -p vapaeetokens@active

-- registro los tokens falsos como validados --
telosmain push action vapaeetokens updatetoken '["AAA", "A Token", "https://vapaee.io", "/assets/logos/fake_a_token.png", "/assets/logos/fake_a_token.png", true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["BBB", "B Token", "https://vapaee.io", "/assets/logos/fake_b_token.png", "/assets/logos/fake_b_token.png", true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["CCC", "C Token", "https://vapaee.io", "/assets/logos/fake_c_token.png", "/assets/logos/fake_c_token.png", true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["DDD", "D Token", "https://vapaee.io", "/assets/logos/fake_d_token.png", "/assets/logos/fake_d_token.png", true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["EEE", "E Token", "https://vapaee.io", "/assets/logos/fake_e_token.png", "/assets/logos/fake_e_token.png", true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["FFF", "F Token", "https://vapaee.io", "/assets/logos/fake_f_token.png", "/assets/logos/fake_f_token.png", true]' -p vapaeetokens@active

-- agrego el issuer everyone a los tokens falsos --
telosmain push action vapaeetokens addissuer '["everyone", "AAA"]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "BBB"]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "CCC"]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "DDD"]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "EEE"]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "FFF"]' -p vapaeetokens@active

-- haciendo que el TLOS sea falso --
telosmain push action vapaeetokens create '["vapaeetokens","10000000000.0000 TLOS"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TLOS", "Telos FAKE", "https://vapaee.io", "/assets/logos/telos-fake.png", "/assets/logos/telos-fake.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens addissuer '["everyone", "TLOS"]' -p vapaeetokens@active



-- creating some orders --
telosmain push action vapaeetokens order '["viterbotelos", "buy", "10.00000000 BBB", "0.00490000 TLOS"]' -p viterbotelos@active
telosmain push action vapaeetokens order '["viterbotelos", "sell", "10.00000000 BBB", "0.00690000 TLOS"]' -p viterbotelos@active















-- TODO NEXT !! --
- después de generar cualquier cambio en la blockchain hay que refrescar los recursos del usuario (RAM)
- el withdraw tiene que convertir en earnings todo monto menor a 0.0001 y sacárselo del usuario.



-- TODO (futuro) vapaeetokens --
- Subasta: Implementar en el contrato la Subasta
  - tengo que poder vender M (de los N XXX tokens depositados) cada T tiempo al mejor postor que page con ZZZ, hasta agotar stock.
    auction1(owner, receiver, "N.0000 XXX", "ZZZ", "M.0000 XXX", interval_time)
    auction2(owner, receiver, "N.0000 XXX", "ZZZ", total_time)
    doauction(): ejecuta el primer auction si está vencido. lo puede ejecutar cualqueira.
  - Table auction: scope contract
    {
        uint64_t id;
        name owner;
        name receiver;
        asset portion;      // XXX to sell each interval
        asset remaining;    // XXX
        asset collected;    // ZZZ
        uint64_t interval;  // interval time
        uint64_t next;      // next expire time
        uint64_t timer;     // last timer expire time
    }
  - ajustar el htransfer para que se fije si hay algún auction para ejecutar.
    - Se fija en la tabla de auctions ordenando por next.
    - Si el primero ya está vencido, lo ejecuta y agenda el siguiente si no está agendado ya.
    - si el primero no está vencido, se fija si está agendado comparando timer con next.
      Si timer < next => reagendar y actualizar timer

cleos push action vapaeetokens order '["bob", "buy", "1.00000000 EDNA", "0.42000000 TLOS"]' -p bob
telosmain push action vapaeetokens order '["viterbotelos", "buy", "5.00000000 EDNA", "0.00047800 TLOS"]' -p viterbotelos

---------------------------------------------------------------------
---------------------------------------------------------------------
-- Mainnet ----------------------------------------------------------
---------------------------------------------------------------------
cd /var/www/vapaee.io-source/contracts/vapaeetokens
vapaeetokens; telosmain set contract vapaeetokens $PWD -p vapaeetokens@active
telosmain set account permission vapaeetokens active '{"threshold": 1,"keys": [{"key": "EOS8MPwGHuGSHSfBp3HAWsrHDotAqp9ZPShBvNcGDpcmNNa5h8y1Q","weight": 1}],"accounts": [{"permission":{"actor":"vapaeetokens","permission":"eosio.code"},"weight":1}]}' owner -p vapaeetokens
telosmain push action vapaeetokens addtoken '["eosio.token","TLOS",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens create '["vapaeetokens","500000000.0000 CNT"]' -p vapaeetokens@active
telosmain push action vapaeetokens setsnapshot '["snapshots.tf",1,"CNT",0,0,10000,0,"CNT Token Airdrop - Cards & Tokens - http://cardsandtokens.com"]' -p vapaeetokens@active

telosmain set contract boardgamebox $PWD -p boardgamebox@active
--
telosmain push action vapaeetokens hotfix '[20, "aaa.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "bbb.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "ccc.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "ddd.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "eee.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "fff.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "aaa.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "bbb.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "ccc.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "ddd.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "eee.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "fff.tlos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.aaa"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.bbb"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.ccc"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.ddd"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.eee"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[20, "tlos.fff"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[10, "viterbotelos"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[10, "user11111111"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[10, "user22222222"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[10, "user33333333"]' -p vapaeetokens@active
telosmain push action vapaeetokens hotfix '[10, "vapaeetokens"]' -p vapaeetokens@active


telosmain push action vapaeetokens hotfix '[0, "viterbotelos","0.1000 TLOS"]' -p vapaeetokens@active



echo "-- register CNT --" 
telosmain push action vapaeetokens updatetoken '["CNT", "Cards & Tokens", "http://cardsandtokens.com", "/assets/logos/cnt.svg", "/assets/logos/cnt-lg.svg", true]' -p vapaeetokens@active
echo "-- register TLOS --" 
telosmain push action vapaeetokens updatetoken '["TLOS", "Telos", "https://telosfoundation.io", "/assets/logos/telos.png", "/assets/logos/telos-lg.png", true]' -p vapaeetokens@active
echo "-- register QBE --" 
telosmain push action vapaeetokens updatetoken '["QBE", "Qubicles", "https://fenero.io/qubicles", "/assets/logos/qbe.png", "/assets/logos/qbe-lg.png", true]' -p vapaeetokens@active
echo "-- register ACORN --" 
telosmain push action vapaeetokens updatetoken '["ACORN", "ACORN", "http://acorns.fun", "/assets/logos/acorn.svg", "/assets/logos/acorn-lg.png", true]' -p vapaeetokens@active
echo "-- register EDNA --" 
telosmain push action vapaeetokens updatetoken '["EDNA", "EDNA", "https://github.com/EDNA-LIFE", "/assets/logos/edna.png", "/assets/logos/edna-lg.png", true]' -p vapaeetokens@active
echo "-- register TEACH --" 
telosmain push action vapaeetokens updatetoken '["TEACH", "Teachology", "http://teachology.io", "/assets/logos/teach.svg", "/assets/logos/teach-lg.png", true]' -p vapaeetokens@active
echo "-- register ROBO --" 
telosmain push action vapaeetokens updatetoken '["ROBO", "Proxibots", "https://proxibots.io", "/assets/logos/proxibots.png", "/assets/logos/proxibots-lg.png", true]' -p vapaeetokens@active

telosmain push action vapaeetokens addtoken '["vapaeetokens","CNT",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["eosio.token","TLOS",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["qubicletoken","QBE",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["acornaccount","ACORN",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["oliveaccount","OLIVE",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["revelation21","HEART",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["ednazztokens","EDNA",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["teachology14","TEACH",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["proxibotstkn","ROBO",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens addtoken '["telosdacdrop","TLOSDAC",4,"vapaeetokens"]' -p vapaeetokens@active

telosmain push action vapaeetokens updatetoken '["TLOS", "Telos", "https://telosfoundation.io", "/assets/logos/telos.png", "/assets/logos/telos-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["QBE", "Qubicles", "https://fenero.io/qubicles", "/assets/logos/qbe.png", "/assets/logos/qbe-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ACORN", "Acorn", "http://acorns.fun", "/assets/logos/acorn.svg", "/assets/logos/acorn-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["EDNA", "EDNA", "https://github.com/EDNA-LIFE", "/assets/logos/edna.png", "/assets/logos/edna-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["TEACH", "Teachology", "http://teachology.io", "/assets/logos/teach.svg", "/assets/logos/teach-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["ROBO", "Proxibots", "https://proxibots.io", "/assets/logos/proxibots.png", "/assets/logos/proxibots-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["CNT", "Cards & Tokens", "http://cardsandtokens.com", "/assets/logos/cnt.svg", "/assets/logos/cnt-lg.svg",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["OLIVE", "Olive", "http://democratic.money/olive", "/assets/logos/olive.png", "/assets/logos/olive-lg.png",true]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["HEART", "Beatitude", "https://steemit.com/@steemchurch", "/assets/logos/beautitude.png", "/assets/logos/beautitude-lg.png",true]' -p revelation21@active
telosmain push action vapaeetokens updatetoken '["TLOSDAC", "TelosDAC", "https://telosdac.io/", "/assets/logos/telosdac.png", "/assets/logos/telosdac-lg.png",true]' -p vapaeetokens@active




echo "-- register VIITA --" 
telosmain push action vapaeetokens addtoken '["viitasphere1","VIITA",4,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VIITA", "Viitasphere", "https://viitasphere.com", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png", true]' -p vapaeetokens@active
echo "-- register VIICT --" 
telosmain push action vapaeetokens addtoken '["viitasphere1","VIICT",0,"vapaeetokens"]' -p vapaeetokens@active
telosmain push action vapaeetokens updatetoken '["VIICT", "Viitasphere", "https://viitasphere.com", "/assets/logos/viitasphere.png", "/assets/logos/viitasphere-lg.png", false]' -p vapaeetokens@active



---------------------------------------------------------------------
---------------------------------------------------------------------
-- Testnet ----------------------------------------------------------
---------------------------------------------------------------------
cd /var/www/vapaee.io/contracts/vapaeetokens
telostest set contract vapaeetokens $PWD -p vapaeetokens@active
telostest push action vapaeetokens addtoken '["eosio.token","TLOS",4,"vapaeetokens"]' -p vapaeetokens@active
telostest push action vapaeetokens create '["vapaeetokens","500000000.0000 CNT"]' -p vapaeetokens@active
telostest push action vapaeetokens setsnapshot '["setsnapshot",1,"CNT",0,0,10000,0,"CNT Token Airdrop - Cards & Tokens - http://cardsandtokens.com"]' -p vapaeetokens@active




-------- TELOS SNAPSHOTS --------
telostest get table snapsnapsnap 1 snapshots --lower viterbotelos
telosmain get table snapshots.tf 1 snapshots --lower viterbotelos
cleos --url https://telos.eos.barcelona get table snapshots.tf 1 snapshots --lower geytinzygige

 


-- Como hacer una library para Angular --
- primero hay que registrarse como usuario en https://www.npmjs.com/
- dentro del proyecto que estás laburando generás un sub proyecto library:
  ng generate library @vapaee/dex
- migrás el código de la library local a nuevo sub proyecto consu propio Module
- le hacés un build:
  ng build @vapaee/dex --prod
- actualizale la versión en el package y publicalo:
  cd dist/vapaee/libname
  npm adduser  <<-- loguearse como vapaee
  npm publish --access public


ng generate library @vapaee/style



Phaser con Angular para videojuegos
https://github.com/weichen2046/phaser3-angular6-helloworld



-- TODO futuro (contrato BG-BOX) ---
--------- Casos de uso Basico (BG-BOX) -----------
-- All --
- Register author 

-- APPs --
- Registro de una app (app_name, inventory, deposit)   // C&T
- Registro de un item Spec                   // Card, Envelop, Box
- Registro de container Spec                 // Album, Envelop, Box

-- Publisher --
- Registro de un Item Asset                  // openmic-w107-orrslaw-not-sorry: publicación de una carta específica
- Registro de un Container Asset             // openmic-100-weeks: publicación de un album concreto
- Issue copies of an Item Asset              // Crea N copias de una carta, que se sumarán al supply existente sin pasar de un máximo

-- User --
-- Swap units places (container / position)  // move cards in the inventory or album
-- use container                             // issues an instance of Container Asset
-- transfer units                            // give cards to someone else


Las aplicaciones deben ser registradas dando el account del contrato inteligente que cumple con un api para poder avisarle cada evento.
De esta manera el BG-Box se encarga con las reglas de Items y Containers Genéricos mientras que el el handler se encarga de reglas más específicas de la app.
Por ejemplo, se pueden exigir comisiones por cada evento, cumplir con mínimos o máximos, disparar otras acciones como cobrar impuesto, etc.


--------- Casos de uso Medio (BG-BOX) -----------
-- market 
  -- order units                               // creates an order to buy or sell any amount of owning copies of the same card
  -- cancel order                              // cancel previously created order
-- multiple authorship
  - hacer otra tabla donde el scope sea el user y que ahi se diga cuanto tiene cada usuario de authorship de cada item.
    por lo general vos podés hacer una carta y para esa carta va a decir que vos tenés el 100% y el resto del mundo 0%.
    pero pueden haber varias partes productoras de un mismo contenido y se arregla de antemano dividir el authorship en partes A% B% y C% dependiendo de la participación de cada uno.
  - cada vez que hay una compra o venta de un item con multimple authorship hay que dividir las ganancias respentado los porcentajes A% B% y C%



---------------------------------------------
